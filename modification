public class DatabaseMigrator
{
    private readonly HashSet<string> _pureRelations = new();
    private readonly HashSet<string> _extendedRelations = new();
    private readonly Dictionary<string, Dictionary<string, string>> _idMappings = new();

    public void PerformMigration()
    {
        // ... Initialisation des relations
        LoadRelationTables(); // comme avant

        var orchestrator = new MigrationOrchestrator(
            _pureRelations,
            _extendedRelations,
            _idMappings,
            GetForeignKeyInfo,
            ImportTable,
            ImportPureRelationTable,
            ImportExtendedRelationTable,
            GetAllTables
        );

        orchestrator.PerformGlobalImport();
    }

    // Ces méthodes sont nécessaires au fonctionnement
    private List<ForeignKeyInfo> GetForeignKeyInfo(string tableName) { ... }
    private void ImportTable(string tableName) { ... }
    private void ImportPureRelationTable(string tableName) { ... }
    private void ImportExtendedRelationTable(string tableName) { ... }
    private List<string> GetAllTables() { ... }
}