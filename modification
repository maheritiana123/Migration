-- Désactiver les contraintes FK
EXEC sp_MSforeachtable 'ALTER TABLE ? NOCHECK CONSTRAINT ALL';

-- Supprimer les données
EXEC sp_MSforeachtable 'DELETE FROM ?';

-- Réactiver les contraintes FK
EXEC sp_MSforeachtable 'ALTER TABLE ? WITH CHECK CHECK CONSTRAINT ALL';

-- Reseed uniquement sur les tables qui ont une colonne IDENTITY
DECLARE @sql NVARCHAR(MAX) = N'';

SELECT @sql += 'DBCC CHECKIDENT (''' + t.name + ''', RESEED, 0);' + CHAR(13)
FROM sys.tables t
WHERE EXISTS (
    SELECT 1
    FROM sys.identity_columns c
    WHERE c.[object_id] = t.[object_id]
);

EXEC sp_executesql @sql;