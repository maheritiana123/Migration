-- Désactiver les contraintes FK
EXEC sp_MSforeachtable 'ALTER TABLE ? NOCHECK CONSTRAINT ALL';

-- Supprimer les données de toutes les tables
EXEC sp_MSforeachtable 'DELETE FROM ?';

-- Réactiver les contraintes FK
EXEC sp_MSforeachtable 'ALTER TABLE ? WITH CHECK CHECK CONSTRAINT ALL';

-- Optionnel : remettre les IDENTITY à 1
EXEC sp_MSforeachtable 'DBCC CHECKIDENT (''?'', RESEED, 0)';